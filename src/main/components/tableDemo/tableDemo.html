<div class="columns">
  <div class="column is-11">
    <div class="field">
      <div class="control">
        <input class="input" type="text" placeholder="`SELECT ...`" ng-model="$ctrl.sqlQuery">
      </div>
    </div>
  </div>
  <div class="column is-1">
    <button class="button" ng-click="$ctrl.loadData()">Query</button>
  </div>
</div>

<!-- TABLE -->
<div class="data-table">
  <div class="columns">
    <div class="column">
      <table class="table is-striped is-bordered">
        <thead>
          <tr>
            <th ng-repeat="columnTitle in $ctrl.tableHeaders">
              <div class="columns table-header">
                <div class="column">
                  <span class="sortable" ng-click='$ctrl.sortColumn(columnTitle)' ng-class='$ctrl.sortClass(columnTitle)'>{{ columnTitle }}
                  </span>
                </div>
                <div class="column">

                  <div class="dropdown" ng-class="{ 'is-active': $ctrl.activeTables[columnTitle] }">
                    <div class="dropdown-trigger">
                      <button class="button" aria-haspopup="true" ng-click="$ctrl.activeTables[columnTitle] = !$ctrl.activeTables[columnTitle]"
                        aria-controls="dropdown-menu">
                        <span>{{ columnTitle }}</span>
                        <span class="icon is-small">
                          <i class="fas fa-angle-down" aria-hidden="true"></i>
                        </span>
                      </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu" role="menu">
                      <div class="dropdown-content filter-dropdown">
                        <label class="checkbox dropdown-item">
                          <input type="checkbox" ng-checked="$ctrl.inSelection('!!', columnTitle)" ng-click="$ctrl.toggleSelection('!!', columnTitle)"
                            value="!!"> All
                        </label>
                        <label class="checkbox dropdown-item" ng-repeat="option in $ctrl.tableHeaderFilters[columnTitle]">
                          <input type="checkbox" ng-checked="$ctrl.inSelection(option, columnTitle)" ng-click="$ctrl.toggleSelection(option, columnTitle)"
                            value="{{ option }}"> {{ option }}
                        </label>
                      </div>
                    </div>

                  </div>
                </div>

              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="data in $ctrl.tableData | filter: $ctrl.multipleSelectFilter | orderBy: $ctrl.column : $ctrl.reverse ">
            <td ng-repeat="columnTitle in $ctrl.tableHeaders">
              {{ data[columnTitle] | limitTo: $ctrl.maxLengthCell }}{{ data[columnTitle].length > $ctrl.maxLengthCell ? '...' : '' }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>